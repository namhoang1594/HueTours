@using Umbraco.Core.PropertyEditors
@inherits UmbracoViewPage
@{
    Layout = null;
    // Get basic design settings from the homepage
    var home = (Home)Model.Root();
    var settings = (Settings)Umbraco.Content(1077);
    var siteName = home.SiteName;
    var logo = home.Logo?.LocalCrops;
    var sharedContent = Model.Name;
    var favicon = settings.Favicon?.LocalCrops;
    var sharedImage = home.SocialShareImage?.Url(null, UrlMode.Absolute);
    var tours = (Tours)home.Children.FirstOrDefault(c => c.ContentType.Alias == "tours");
    var hotel = (Hotel)home.Children.FirstOrDefault(c => c.ContentType.Alias == "hotel");
    var vehicle = (Vehicle)home.Children.FirstOrDefault(c => c.ContentType.Alias == "vehicle");
    var food = (FoodAndRestaurant)home.Children.FirstOrDefault(c => c.ContentType.Alias == "foodAndRestaurant");
    var news = (News)home.Children.FirstOrDefault(c => c.ContentType.Alias == "news");
    var contact = (Contact)home.Children.FirstOrDefault(c => c.ContentType.Alias == "contact");
    var aboutus = (AboutUs)home.Children.FirstOrDefault(c => c.ContentType.Alias == "aboutUs");
    var faq = (FAqs)home.Children.FirstOrDefault(c => c.ContentType.Alias == "fAQs");
    var voucher = (Voucher)home.Children.FirstOrDefault(c => c.ContentType.Alias == "voucher");

    var lang = "vi";
    var uri = new Uri(Request.Url.AbsoluteUri);
    if (uri.Segments.Length > 1)
    {
        if (uri.Segments[1].Trim('/').ToLower() == "en")
        {
            lang = "en";
        }
    }
}

<!doctype html>
<html class="no-js" lang="@lang">
<head>
    <meta property="og:type" content="website" />
    <meta property="og:title" content="@(Model.Name ) - @siteName" />
    <meta property="og:site_name" content="@siteName" />
    <meta property="og:url" content="@(Request.Url?.AbsoluteUri)" />
    <meta property="og:image" content="@sharedImage" />
    <meta property="og:description" content="@sharedContent" />
    <link rel="shortcut icon" href="@favicon" type="image/x-icon" />
    <link rel="icon" href="@favicon" type="image/ico" />
    <title>@Model.Name - @home.SiteName</title>
    <meta charset="utf-8">
    <meta name="author" content="ThemeZaa">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1" />

    <link rel="stylesheet" href="~/css/bootstrap.css">
    <link rel="stylesheet" href="~/css/style.css">

</head>

<body>
    <div id="wrapper">
        <header id="header">
            <div class="top_header">
                <div class="container-fluid">
                    <div class="row top_header-row">
                        <div class="col-4">
                            <div class="logo">
                                <a href="">
                                    <img src="@logo" alt="" />
                                </a>
                            </div>
                        </div>
                        <div class="col-8">
                            <ul class="menu_top">
                                <li>
                                    @Html.Partial("~/Views/Partials/Language.cshtml")
                                </li>
                                <li>
                                    <a href="tel:@settings.ContactPhone">@settings.ContactPhone</a>
                                </li>
                                <li>
                                    <a href="@home.DownloadApp.Url">@home.DownloadApp.Name</a>
                                </li>
                                <li><a class="signup" href="@faq.Url()">@Umbraco.GetDictionaryValue("FAQs").ToFirstUpper()</a></li>
                                <li><a class="signin" href="@voucher.Url()">@Umbraco.GetDictionaryValue("Voucher").ToFirstUpper()</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="menu_header">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <ul class="main_menu">
                                <li>
                                    <a href="@tours.Url()">@tours.PageTitle</a>
                                    <ul class="sub_menu">
                                        @if (tours.Children != null)
                                        {
                                            foreach (var child in tours.Children)
                                            {
                                                IPublishedContent content = child;
                                                if (child.HasProperty("referencePage"))
                                                {
                                                    content = child.Value<IPublishedContent>("referencePage");
                                                }
                                                if (content != null)
                                                {
                                                    <li><a href="@(content.Url())">@content.Value("pageTitle")</a></li>
                                                }
                                            }
                                        }
                                    </ul>
                                </li>

                                <li>
                                    <a href="@hotel.Url()">@hotel.PageTitle</a>
                                    <ul class="sub_menu">
                                        @if (tours.Children != null)
                                        {
                                            foreach (var child in hotel.Children)
                                            {
                                                IPublishedContent content = child;
                                                if (child.HasProperty("referencePage"))
                                                {
                                                    content = child.Value<IPublishedContent>("referencePage");
                                                }
                                                if (content != null)
                                                {
                                                    <li><a href="@(content.Url())">@content.Value("pageTitle")</a></li>
                                                }
                                            }
                                        }
                                    </ul>
                                </li>

                                <li>
                                    <a href="@vehicle.Url()">@vehicle.PageTitle</a>
                                    <ul class="sub_menu">
                                        @if (tours.Children != null)
                                        {
                                            foreach (var child in vehicle.Children)
                                            {
                                                IPublishedContent content = child;
                                                if (child.HasProperty("referencePage"))
                                                {
                                                    content = child.Value<IPublishedContent>("referencePage");
                                                }
                                                if (content != null)
                                                {
                                                    <li><a href="@(content.Url())">@content.Value("pageTitle")</a></li>
                                                }
                                            }
                                        }
                                    </ul>
                                </li>

                                <li>
                                    <a href="@food.Url()">@food.PageTitle</a>
                                    <ul class="sub_menu">
                                        @if (tours.Children != null)
                                        {
                                            foreach (var child in food.Children)
                                            {
                                                IPublishedContent content = child;
                                                if (child.HasProperty("referencePage"))
                                                {
                                                    content = child.Value<IPublishedContent>("referencePage");
                                                }
                                                if (content != null)
                                                {
                                                    <li><a href="@(content.Url())">@content.Value("pageTitle")</a></li>
                                                }
                                            }
                                        }
                                    </ul>
                                </li>

                                <li>
                                    <a href="@news.Url()">@news.PageTitle</a>
                                    <ul class="sub_menu">
                                        @if (tours.Children != null)
                                        {
                                            foreach (var child in news.Children)
                                            {
                                                IPublishedContent content = child;
                                                if (child.HasProperty("referencePage"))
                                                {
                                                    content = child.Value<IPublishedContent>("referencePage");
                                                }
                                                if (content != null)
                                                {
                                                    <li><a href="@(content.Url())">@content.Value("pageTitle")</a></li>
                                                }
                                            }
                                        }
                                    </ul>
                                </li>

                                <li><a href="@contact.Url()">@Umbraco.GetDictionaryValue("Contact").ToFirstUpper()</a></li>
                                <li><a href="@aboutus.Url()">@Umbraco.GetDictionaryValue("AboutUs").ToFirstUpper()</a></li>
                                <li><a href="@faq.Url()">@Umbraco.GetDictionaryValue("FAQs").ToFirstUpper()</a></li>
                                <li><a href="@voucher.Url()">@Umbraco.GetDictionaryValue("Voucher").ToFirstUpper()</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </header>

 
            @RenderBody()


        <footer class="footer">
            <div class="top_footer">
                <div class="container">
                    <div class="row">
                        <div class="col-3">
                            <div class="logo">
                                <a href="">
                                    <img src="@logo" alt="" />
                                </a>
                            </div> 
                        </div>

                        <div class="col-3">
                            <ul class="footer_menu">
                                @if (home.FooterMenu1 != null)
                                {
                                    foreach (var child in home.FooterMenu1)
                                    {
                                        IPublishedContent content = child;
                                        if (child.HasProperty("referencePage"))
                                        {
                                            content = child.Value<IPublishedContent>("referencePage");
                                        }
                                        <li><a href="@content.Url()">@content.Value("pageTitle")</a></li>
                                    }
                                }
                            </ul>
                        </div>

                        <div class="col-3">
                            <ul class="footer_menu">
                                @if (home.FooterMenu2 != null)
                                {
                                    foreach (var child in home.FooterMenu2)
                                    {
                                        IPublishedContent content = child;
                                        if (child.HasProperty("referencePage"))
                                        {
                                            content = child.Value<IPublishedContent>("referencePage");
                                        }
                                        <li><a href="@content.Url()">@content.Value("pageTitle")</a></li>
                                    }
                                }
                            </ul>
                        </div>

                        <div class="col-3">
                            <ul class="footer_menu">
                                @if (home.FooterMenu3 != null)
                                {
                                    foreach (var child in home.FooterMenu3)
                                    {
                                        IPublishedContent content = child;
                                        if (child.HasProperty("referencePage"))
                                        {
                                            content = child.Value<IPublishedContent>("referencePage");
                                        }
                                        <li><a href="@content.Url()">@content.Value("pageTitle")</a></li>
                                    }
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom_footer">
                <div class="container">
                    <div class="text_reserved text-center">
                        @Html.Raw(home.Copyright)
                    </div>
                </div>
            </div>
        </footer>

    </div>
    <script type="text/javascript" src="~/js/bootstrap.js"></script>
</body>
</html>
